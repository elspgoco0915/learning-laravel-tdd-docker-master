# 2-1

ユニットテストの優先度を決める
チームでテスト戦略を話し合うときなどに、優先度を箇条書きで書き出してみるといいでしょう。

たとえば、以下のような感じです。

- プロダクトのコアな機能（金額計算、コンバージョンに至る経路上にある処理、など）
- 変更頻度の高いもの（割引ロジック、サービスに付帯するオプション、など）
- パターンの多いもの（利用プランによる各種制御、ユーザーのアクションに応じた通知、など）

これらは単独で存在する属性とは限らず、1 ~ 3 すべてを満たすような機能もあるでしょう。できれば、画面名や機能名など、具体的に議論できるといいですね。

筆者個人の感覚として、ユニットテストの存在価値があとから効いてくるのは、以下のような特徴を持った処理に対してのテストです。

複雑な計算
複雑な条件
多数のパターン
これらの特徴を持った処理はできるだけ小さいクラスに分割して、テストをしやすい構成にするといいでしょう。

「2-3 テストしやすいモジュール構成」の節で詳しく説明しますが、ここではいくつかの例を紹介します。

---

以下の特徴のある機能についてはできるだけフィーチャーテストを書くことをおすすめします。

プロダクトのコアな機能
他の機能でも使用している依存関係がある機能